<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Mon Dec 05 2022 01:52:01 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="638d2b330787c71f66edd122" data-wf-site="638d2b330787c75154edd11d">
<head>
  <meta charset="utf-8">
  <title>UnPoliticallyCorrect</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/chatbot-93a0c0.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["DM Serif Display:regular","Karla:regular,500,600,700"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
</head>
<body class="body">
  <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar w-nav">
    <div class="container n">
      <a href="http://iclicker.app" target="_blank" class="w-nav-brand"><img src="images/Frame-1.png" loading="lazy" width="55" alt="" class="image"></a>
      <nav role="navigation" class="w-nav-menu">
        <a href="http://github.com/n2nco" target="_blank" class="nav-link w-nav-link">Github</a>
        <a href="http://twitter.com/dampanus" target="_blank" class="nav-link w-nav-link">Twitter</a>
        <a href="https://twitter.com/messages/1051571484466900992-1103549378780954624?recipient_id=1051571484466900992&text=Can%20you%20send%20me%20nudes" class="nav-link _2 w-nav-link">Let&#x27;s Talk!</a>
      </nav>
      <div class="w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
  <div id="chatbox" data-w-id="9659100a-7873-f2db-41d1-b64e02091ffe" class="section wf-section">
    <div data-w-id="635caff5-ecbd-2d0d-151a-efff409a668e" style="-webkit-transform:translate3d(0, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="chat-button">
      <div class="prompt-message">
        <div>Hey! Wanna chat? ðŸ˜‰</div>
      </div>
      <div class="lottie-animation" data-w-id="cd651507-babb-2d93-2da9-89a345d6c632" data-animation-type="lottie" data-src="documents/lottieflow-chat-17-5-ffffff-easey.json" data-loop="1" data-direction="1" data-autoplay="1" data-is-ix2-target="0" data-renderer="svg" data-default-duration="2" data-duration="0"></div>
    </div>
    <div style="height:0px;display:none" class="chat-wrapper">
      <div class="chat-top">
        <div class="text-block">dampanus ai</div>
        <div class="text-block-2">- Online</div>
      </div>
      <div class="input-wrapper">
        <div class="form-block w-form">
          <form id="email-form" name="email-form" data-name="Email Form" method="get" class="form">
            <div class="div-block-3"></div>
            <div class="chat-bubble-wrapper">
              <div data-w-id="34b8006c-fdac-d5f2-3eb0-0df6d393a78a" style="height:0px;opacity:0" class="chat-bubble">
                <div>You have only one shot..</div>
              </div>
              <div data-w-id="98e94359-d552-4bc5-de42-e9bfa6c1ec74" style="height:0px;opacity:0" class="chat-bubble">
                <div>What's your naughty question?</div>
              </div>
              <div class="chat-bubble reply reply--name"></div>
            </div>
            <div class="field-wrapper"><input type="text" class="field w-input" maxlength="256" name="name" data-name="name" placeholder="Type here" id="name" required="">
              <div class="field dummy"></div>
            </div>
          </form>
          <div class="success w-form-done">
            <div class="success-icon">ðŸŽ‰</div>
            <div class="success-message">Message goes here!</div>
          </div>
          <div class="w-form-fail">
            <div>give it a moment to retreive your answer :) </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container horizontal">
      <h1 class="heading-3">dampanus</h1>
      <p class="paragraph-2">Ask me a fucked up question</p>
      <div class="form-block-2 w-form">
        <form id="email-form" name="email-form" data-name="Email Form" method="get" class="subscribe-form-flex">
          <div class="subscribe-form-input-wrapper"></div>
        </form>
        <div class="w-form-done">
          <div>Thank you! Your submission has been received!</div>
        </div>
        <div class="w-form-fail">
          <div>Oops! Something went wrong while submitting the form.</div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=638d2b330787c75154edd11d" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
  <script>
//get name from name field
var name;
var service;
var email;
//when enter is detected in name field input
$("#name").keypress(function(e) {

  

    if(e.which == 13) {
      console.log("enter detected");
      console.log("name is " + name);
    		name = $('#name').val();
        /* make sure name is not longer than 100 chars */
        if (name.length > 200) {
          console.log('reducing name length')
          name = name.substring(0, 100);
        }
        /* make sure name is not empty */
        if (name.length == 0) {
          name = "nothing";
        }
        getResponse()
        /*make a fetch call to the server to get the response*/
        /* wrap the fetch below in an async function */
        let url = 'https://dampanus-twvcc23yna-uw.a.run.app'

        async function getResponse(url) {
          /* make a fetch call to localhost 8080 with query param name */

 
          /* while !response, wait 1 second and try again */
          /* setInterval to try for response every 1 second */
          /* if response, then continue
          /* if no response after 10 seconds, then say "I'm having trouble understanding you" */
          function sleep(ms) {
            return new Promise((resolve) => setTimeout(resolve, ms));
        }
          let res
          while (!res) {
            await sleep(1000);
            res = await fetch( 'https://dampanus-twvcc23yna-uw.a.run.app/objective?userinput=' + name, {
              method: 'GET',
              headers: {
                'Content-Type': 'application/json',
              },
            });
          } 
          
   

          const myJson = await res.json(); //extract JSON from the http response
          console.log('response: ' + 'myJson.result');
          console.log('response: ' + myJson.result);
          /* get the response from the json */
          var response = myJson.result
          /* make sure response is not longer than 100 chars */
        
          /* make sure response is not empty */
          if (response.length == 0) {
            response = "no response from our naughty model";
          }
          /* display the response */
          $('.reply--name').html(name);
          /* clear the name field */
          $('#name').val('');

        
          //create a div element with class chat-bubble and style it with opacity 1 and set its text to response
          let chatBubble = document.createElement("div");
          chatBubble.classList.add("chat-bubble");
          chatBubble.classList.add("deletable");
          chatBubble.style.opacity = 1;

          chatBubble.innerHTML = response;

          //find element with class deletable and remove it
          let deletable = document.getElementsByClassName("deletable");
          if (deletable.length > 0) {
            deletable[0].remove();
          }


          //inser chatBubble after userQ
          //delete the most recent chat bubble
          //insert chatBubble after userQ
          let userQ = document.querySelector("#email-form > div.chat-bubble-wrapper > div.chat-bubble.reply.reply--name")
         
          // userQ.parentNode.insertAf(chatBubble, userQ.nextSibling);
          userQ.insertAdjacentElement("afterend", chatBubble);
          //get the most recently added chat bubble
          let mostRecentChatBubble = document.querySelector("#email-form > div.chat-bubble-wrapper > div.chat-bubble.reply.reply--name + div.chat-bubble");

          //delete the most recent chat bubble

          chatBubbles = document.querySelectorAll(".chat-bubble")
          console.log(chatBubbles.length)
          // userQ.insertAdjacentElement("afterend", chatBubbles[chatBubbles.length]);



          // $('.response--1').text(response);


          /* display a new chat bubble with the response */
          // $('.chat-bubble-wrapper').append('<div class="chat-bubble reply response--1"></div>');
          /* display the response */
          // $('.reply--name').html(response);
          /* display a new chat bubble */
          // $('.chat-bubble-wrapper').append('<div class="chat-bubble reply"></div>').text(response);

        }

               




       $('.reply--name').text(name); 
      //  $('#name').hide(); //clears the field
       setTimeout(function(){ 
         $('.reply--name').show(); 
       }, 500);
        var q1= "Hey "+name+"! How can we help you today?"; // question 1
        $('.response--1').text(q1); //adds q1 to text field
        setTimeout(function(){ 
        $('.response--1').show(); //unides text field
        }, 2000);
        setTimeout(function(){ 
        $('.response--2').show(); //unides text field
       }, 3000); 
   }
});
//get radio field input
$('input[name="service"]').on('change', function(e) {
    alert(e.target.value)
     $('.reply--service').hide(); 
     $('.response--3').hide(); 
    service = e.target.value;
    $('.reply--service').text(service); //adds q1 to text field
  	setTimeout(function(){ 
     $('.reply--service').show(); 
   }, 500);
   var response2= service+"! Sure we can help you with that."; // service text
   $('.response--3').text(response2); 
	setTimeout(function(){ 
     $('.response--3').show(); 
  }, 1000);
  setTimeout(function(){ 
     $('.response--4').show(); //show email text
     $('#email').show(); //show email field
  }, 1500);
});
//detected enter on email field
$("#email").keypress(function(e) {
    if(e.which == 13) {
 		email = $('#email').val();
    $('#email').hide();
    $('.reply--email').text(email); 
  	setTimeout(function(){ 
     $('.reply--email').show(); 
   }, 1000);
   var response3= "Awesome! Thanks "+name+"! We will get back to you ASAP! :)"; // service text
   $('.response--5').text(response3); 
    $('.success-message').text(response3);
    setTimeout(function(){ 
     $('.hidden').val("teeTt")
     $('.submit').trigger('click'); 
  	}, 1500);
   }
});
</script>
</body>
</html>